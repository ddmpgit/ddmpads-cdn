// DDMPADS - DTVA
// Gerado em: 2025-06-08T14:53:45.822Z
// N?O EDITE ESTE ARQUIVO - Gerado automaticamente

(function(){'use strict';
const CONFIG={"gam":"111315806","prefix":"drama_theviralapps","fileName":"ddmpads-dtva.js","siteName":"DTVA","priceKey":"ddmp_price","defaultPrice":"0.00","refresh":{"enabled":true,"delay":30,"interval":30,"maxCount":1}};
const AD_UNITS={"mobile":[{"type":"anchor","source":"all","country":"all","version":"v2","page":"*","enabled":true,"outOfPage":true,"noRefresh":true},{"type":"anchor","source":"facebook","country":"all","version":"v1","page":"*","enabled":false,"outOfPage":true,"noRefresh":true},{"type":"content","source":"all","country":"all","version":"","page":"*","enabled":"","sizes":[[300,250],"fluid"],"divId":"div-content"},{"type":"interstitial","source":"all","country":"all","version":"","page":"*","enabled":"","outOfPage":true,"noRefresh":true},{"type":"top","source":"all","country":"all","version":"","page":"*","enabled":"","sizes":[[300,250],[336,280]],"divId":"div-top","noRefresh":true},{"type":"top","source":"facebook","country":"all","version":"","page":"*","enabled":"","sizes":[[300,250],[336,280]],"divId":"div-top","noRefresh":true},{"type":"top","source":"google","country":"us","version":"","page":"*","enabled":"","sizes":[[300,250],[336,280]],"divId":"div-top","noRefresh":true},{"type":"top","source":"facebook","country":"us","version":"","page":"*","enabled":true,"sizes":[[300,250],[336,280]],"divId":"div-top","noRefresh":true}],"desktop":[{"type":"anchor","source":"all","country":"all","version":"v2","page":"*","enabled":true,"outOfPage":true,"noRefresh":true},{"type":"anchor","source":"facebook","country":"all","version":"v1","page":"*","enabled":false,"outOfPage":true,"noRefresh":true},{"type":"content","source":"all","country":"all","version":"","page":"*","enabled":"","sizes":[[300,250],"fluid"],"divId":"div-content"},{"type":"interstitial","source":"all","country":"all","version":"","page":"*","enabled":"","outOfPage":true,"noRefresh":true},{"type":"sidebar","source":"all","country":"all","version":"","page":"*","enabled":"","sizes":[[300,250],[336,280]],"divId":"div-sidebar","noRefresh":true},{"type":"top","source":"all","country":"all","version":"","page":"*","enabled":"","sizes":[[300,250],[336,280]],"divId":"div-top","noRefresh":true},{"type":"top","source":"facebook","country":"all","version":"","page":"*","enabled":"","sizes":[[300,250],[336,280]],"divId":"div-top","noRefresh":true},{"type":"top","source":"google","country":"us","version":"","page":"*","enabled":"","sizes":[[300,250],[336,280]],"divId":"div-top","noRefresh":true},{"type":"top","source":"facebook","country":"us","version":"","page":"*","enabled":true,"sizes":[[300,250],[336,280]],"divId":"div-top","noRefresh":true}]};
const PRICE_RULES={"drama_theviralapps_mob_top|*|mobile|google|/teste-ad":"1.00","drama_theviralapps_mob_top|*|mobile|google|*":"0.00","drama_theviralapps_facebook_us_mob_top|us|mobile|facebook|*":"1.00","*|*|*|*|*":"0.00"};
const Utils={isMobile:()=>/Mobi|Android/i.test(navigator.userAgent)||768>=window.innerWidth,getGeo(){const a=new URLSearchParams(window.location.search),b=a.get("test_geo");if(b)return sessionStorage.setItem("ddmp_geo",b.toUpperCase()),b.toUpperCase();const c=sessionStorage.getItem("ddmp_geo");if(c)return c;const d=Intl.DateTimeFormat().resolvedOptions().timeZone;let e="other";return d.includes("Brazil")||d.includes("Sao_Paulo")?e="BR":d.includes("America/")?e="US":d.includes("Europe/")&&(e="EU"),sessionStorage.setItem("ddmp_geo",e),e},getUtmParams(){const a=new URLSearchParams(window.location.search),b={};return["utm_source","utm_medium","utm_campaign","utm_term","utm_content"].forEach(c=>{b[c]=a.get(c)||sessionStorage.getItem(c)||"direct",a.get(c)&&sessionStorage.setItem(c,a.get(c))}),b}};class DDMPAds{constructor(){this.slots=[],this.refreshableSlots=[],this.device=Utils.isMobile()?"mobile":"desktop",this.geo=Utils.getGeo(),this.utms=Utils.getUtmParams(),this.path=window.location.pathname.replace(/\/$/,""),this.source=this.utms.utm_source||"direct"}init(){window.googletag=window.googletag||{cmd:[]};const a=this.getFilteredAdUnits(),b={"top":1,"interstitial":2,"anchor":3,"content":4,"sidebar":5},c=a.sort((d,e)=>(b[d.type]||99)-(b[e.type]||99));c.forEach(d=>this.createSlot(d)),googletag.cmd.push(()=>this.setupGPT())}getFilteredAdUnits(){const a=AD_UNITS[this.device]||[],b={},c=[];a.forEach(a=>{if(a.device!=="all"&&a.device!==this.device)return;if(a.source!=="all"&&a.source!==this.source)return;if(a.country!=="all"&&a.country!==this.geo.toLowerCase())return;const d=a.page==="*"||!a.page||new RegExp(a.page.replace(/\*/g,".*")).test(this.path);if(!d&&a.page&&a.page!=="*")return;const e=a.type,f=(a.page&&a.page!=="*"&&d?8:0)+(a.source===this.source&&a.source!=="all"?4:0)+(a.country===this.geo.toLowerCase()&&a.country!=="all"?2:0)+(a.version?1:0);(!b[e]||b[e].score<f)&&(b[e]={unit:a,score:f})});for(const d in b){const e=b[d].unit;(e.enabled!==false&&e.enabled!=="false"&&e.enabled!=="FALSE")&&c.push(e)}return c}createSlot(a){googletag.cmd.push(()=>{let b;if(a.customPath)b="/"+CONFIG.gam+"/"+a.customPath;else{const c=[CONFIG.prefix];a.version&&c.push(a.version),(a.source!=="all"&&a.source!=="direct")&&c.push(a.source),(a.country&&a.country!=="all")&&c.push(a.country),c.push("mobile"===this.device?"mob":"desk"),c.push(a.type),b="/"+CONFIG.gam+"/"+c.join("_")}let c;if(a.outOfPage){const d="interstitial"===a.type?googletag.enums.OutOfPageFormat.INTERSTITIAL:googletag.enums.OutOfPageFormat.BOTTOM_ANCHOR;c=googletag.defineOutOfPageSlot(b,d)}else{if(!document.getElementById(a.divId))return;c=googletag.defineSlot(b,a.sizes,a.divId)}if(c){const d=a.price||this.getPrice(a.type,b);d&&c.setTargeting(CONFIG.priceKey||"ddmp_price",d),c.addService(googletag.pubads()),this.slots.push({slot:c,unit:a,finalPath:b}),a.noRefresh||this.refreshableSlots.push(c)}})}getPrice(a,b){const c=b.replace("/"+CONFIG.gam+"/",""),d=this.geo.toLowerCase(),e=this.source==="direct"?"*":this.source,f=this.path,g=[];if(e!=="*"&&f!=="*")g.push(c+"|"+d+"|"+this.device+"|"+e+"|"+f);if(e!=="*")g.push(c+"|"+d+"|"+this.device+"|"+e+"|*",c+"|*|"+this.device+"|"+e+"|"+f,c+"|*|"+this.device+"|"+e+"|*");if(f!=="*")g.push(c+"|"+d+"|"+this.device+"|*|"+f,c+"|*|"+this.device+"|*|"+f);g.push(c+"|"+d+"|"+this.device+"|*|*",c+"|*|"+this.device+"|*|*","*|*|*|*|*");for(const h of g)if(PRICE_RULES[h])return PRICE_RULES[h];return CONFIG.defaultPrice||"1.00"}setupGPT(){googletag.pubads().enableSingleRequest(),googletag.pubads().enableLazyLoad({fetchMarginPercent:200,renderMarginPercent:100,mobileScaling:2}),Object.entries(this.utms).forEach(([a,b])=>{"direct"!==b&&googletag.pubads().setTargeting(a,b)}),googletag.pubads().setTargeting("geo",this.geo),googletag.enableServices();const a={"top":1,"interstitial":2,"anchor":3,"content":4,"sidebar":5};this.slots.sort((b,c)=>(a[b.unit.type]||99)-(a[c.unit.type]||99)).forEach(({slot:b,unit:c})=>{(c.outOfPage||document.getElementById(c.divId))&&googletag.display(b)}),CONFIG.refresh&&CONFIG.refresh.enabled&&this.refreshableSlots.length&&this.setupRefresh()}setupRefresh(){const{delay:a=30,interval:b=30,maxCount:c=0}=CONFIG.refresh;let d=0;const e=()=>{0<c&&++d>c||(googletag.pubads().refresh(this.refreshableSlots),(0===c||d<c)&&setTimeout(e,1e3*b))};setTimeout(e,1e3*a)}}const ddmpAds=new DDMPAds;"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>ddmpAds.init()):ddmpAds.init();window.DDMPADS_DEBUG={CONFIG,AD_UNITS,PRICE_RULES,Utils,instance:ddmpAds}
})();